<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AD-Guard AI · 메타 광고 반려 줄이는 문구 자동 교정</title>
  <link rel="icon" href="data:,">

  <!-- Pretendard -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html, body {
      font-family: Pretendard, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
    }
    .bg-grid {
      background-image: radial-gradient(circle at 1px 1px, rgba(15,23,42,0.06) 1px, transparent 0);
      background-size: 18px 18px;
    }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    /* simple syntax-ish */
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>
</head>

<body class="bg-slate-50 text-slate-900">
  <!-- Top bar -->
  <header class="sticky top-0 z-40 backdrop-blur bg-white/75 border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="w-9 h-9 rounded-xl bg-slate-900 text-white grid place-items-center font-bold">AD</div>
        <div class="leading-tight">
          <div class="font-semibold">AD-Guard AI</div>
          <div class="text-xs text-slate-500">메타(인스타) 광고 반려 줄이는 문구 자동 교정</div>
        </div>
      </div>

      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a class="text-slate-600 hover:text-slate-900" href="#demo">데모</a>
        <a class="text-slate-600 hover:text-slate-900" href="#how">동작 방식</a>
        <a class="text-slate-600 hover:text-slate-900" href="#pricing">사업화</a>
        <a class="text-slate-600 hover:text-slate-900" href="#faq">FAQ</a>
      </nav>

      <div class="flex items-center gap-2">
        <span class="text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">
          DEMO · 브라우저 로컬
        </span>
        <a href="#demo" class="hidden sm:inline-flex px-3 py-2 rounded-xl bg-slate-900 text-white text-sm hover:bg-slate-800">
          바로 점검하기
        </a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-white">
    <div class="max-w-6xl mx-auto px-4 py-14">
      <div class="grid lg:grid-cols-2 gap-10 items-center">
        <div>
          <div class="inline-flex items-center gap-2 text-xs px-3 py-1 rounded-full bg-slate-100 text-slate-700">
            <span class="font-semibold">한 방에 이해</span>
            <span class="text-slate-500">“반려 줄이고, 성과 올리는 문구 세트”</span>
          </div>

          <h1 class="mt-4 text-3xl md:text-5xl font-bold leading-tight">
            메타(인스타) 광고<br class="hidden md:block"/>
            <span class="text-slate-900">반려 줄여주는 문구 자동 교정</span>
          </h1>

          <p class="mt-4 text-slate-600 text-base md:text-lg">
            상품/타겟/오퍼만 입력하면
            <span class="font-semibold">안전 점수 + 위험표현 이유 + 교정 전/후 + 통과용 3버전 + 채널별 복붙 세트</span>가 한 번에 나옵니다.
          </p>

          <ul class="mt-6 space-y-2 text-slate-700">
            <li class="flex gap-2"><span class="mt-1">✅</span> 점수(0~100) + “왜 위험한지” 한 줄 설명</li>
            <li class="flex gap-2"><span class="mt-1">✅</span> 교정 전/후 비교 + 수정본 3개(보수/표준/공격)</li>
            <li class="flex gap-2"><span class="mt-1">✅</span> 메타 광고 필드(Primary/Headline/Desc) + 랜딩/DM/인스타캡션 복붙</li>
            <li class="flex gap-2"><span class="mt-1">✅</span> 반려 사유 번역기: 메시지 붙여넣기 → 해석/추정 트리거/수정 액션/수정본 3개</li>
          </ul>

          <div class="mt-8 flex flex-col sm:flex-row gap-3">
            <a href="#demo" class="px-5 py-3 rounded-2xl bg-slate-900 text-white font-semibold hover:bg-slate-800 text-center">
              무료로 점검하기
            </a>
            <a href="#pricing" class="px-5 py-3 rounded-2xl bg-white border border-slate-200 text-slate-900 font-semibold hover:bg-slate-50 text-center">
              사업화 모델 보기
            </a>
          </div>

          <p class="mt-4 text-xs text-slate-500 leading-relaxed">
            ※ 데모는 규칙 기반(로컬)입니다. PRO에서는 AI + 템플릿/저장/팀공유로 확장하는 구조로 설계하세요.
          </p>
        </div>

        <div class="relative">
          <div class="rounded-3xl border border-slate-200 bg-grid p-6">
            <div class="rounded-2xl bg-white border border-slate-200 p-5 shadow-sm">
              <div class="flex items-center justify-between">
                <div class="text-sm font-semibold">결과 미리보기</div>
                <div class="text-xs text-slate-500">“와… 이대로 올리면 되겠는데?”</div>
              </div>

              <div class="mt-4 grid gap-3">
                <div class="rounded-xl border border-slate-200 p-4">
                  <div class="text-xs text-slate-500">안전 점수</div>
                  <div class="mt-1 text-2xl font-bold">82<span class="text-sm text-slate-500">/100</span></div>
                  <div class="mt-2 text-sm text-slate-600">
                    단정/보장 표현만 완화하면 통과 확률이 올라갑니다.
                  </div>
                </div>

                <div class="rounded-xl border border-slate-200 p-4">
                  <div class="text-xs text-slate-500">교정 전/후</div>
                  <div class="mt-2 text-sm text-slate-700">
                    <span class="text-slate-500">Before:</span> “무조건 효과 보장”
                    <br/>
                    <span class="text-slate-500">After:</span> “상황에 따라 도움이 될 수 있어요”
                  </div>
                </div>

                <div class="rounded-xl border border-slate-200 p-4">
                  <div class="text-xs text-slate-500">메타 광고 복붙</div>
                  <div class="mt-2 text-sm bg-slate-50 border border-slate-200 rounded-lg px-3 py-2">
                    Primary Text / Headline / Description 3개 필드로 자동 분해
                  </div>
                </div>
              </div>

              <div class="mt-4 text-xs text-slate-500">
                PRO에서는 “근거 링크/업종 템플릿/히스토리/승인”이 추가되면 결제가 됩니다.
              </div>
            </div>
          </div>

          <div class="absolute -z-10 -top-6 -right-6 w-36 h-36 rounded-full bg-slate-200 blur-2xl opacity-70"></div>
          <div class="absolute -z-10 -bottom-8 -left-8 w-40 h-40 rounded-full bg-emerald-200 blur-2xl opacity-40"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Demo -->
  <section id="demo" class="max-w-6xl mx-auto px-4 py-12">
    <div class="flex items-end justify-between gap-4">
      <div>
        <h2 class="text-2xl md:text-3xl font-bold">데모</h2>
        <p class="mt-2 text-slate-600">
          아래 입력 → 결과에서 <span class="font-semibold">복사 버튼</span> 눌러 바로 쓰시면 됩니다.
        </p>
      </div>

      <div class="hidden md:flex items-center gap-2 text-xs text-slate-500">
        <span class="px-2 py-1 rounded-full bg-white border border-slate-200">서버 저장 없음</span>
        <span class="px-2 py-1 rounded-full bg-white border border-slate-200">브라우저 로컬 처리</span>
      </div>
    </div>

    <!-- Tabs -->
    <div class="mt-6 flex gap-2">
      <button id="tabCheck" class="px-4 py-2 rounded-2xl bg-slate-900 text-white text-sm font-semibold">광고 문구 점검</button>
      <button id="tabReject" class="px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-800 text-sm font-semibold hover:bg-slate-50">반려 사유 번역기</button>
    </div>

    <div class="mt-6 grid lg:grid-cols-2 gap-6">
      <!-- Input -->
      <div class="rounded-3xl bg-white border border-slate-200 shadow-sm p-5">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">① 입력</h3>
          <span id="charCount" class="text-xs text-slate-500">0자</span>
        </div>

        <p class="mt-2 text-sm text-slate-500">
          “문장 생성”이 아니라, <span class="font-semibold">심사 통과 + 성과</span> 워크플로우로 입력합니다.
        </p>

        <!-- Workflow inputs -->
        <div class="mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3">
          <div>
            <label class="text-xs text-slate-600">관계(표시문구)</label>
            <select id="relationship" class="mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm">
              <option value="유료광고">유료광고</option>
              <option value="협찬">협찬</option>
              <option value="제휴">제휴/파트너</option>
              <option value="자사홍보">자사홍보</option>
            </select>
          </div>
          <div>
            <label class="text-xs text-slate-600">플랫폼</label>
            <select id="platform" class="mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm">
              <option value="all">한 번에(추천)</option>
              <option value="meta_ads">메타 광고(Ads)</option>
              <option value="instagram">인스타 포스트/릴스</option>
              <option value="blog">블로그</option>
              <option value="kakao">카카오/문자</option>
            </select>
          </div>
          <div>
            <label class="text-xs text-slate-600">업종</label>
            <select id="category" class="mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm">
              <option value="general">일반</option>
              <option value="diet">다이어트/건강</option>
              <option value="beauty">뷰티/화장품</option>
              <option value="finance">금융/수익</option>
              <option value="local">로컬 매장</option>
              <option value="ai">AI 서비스</option>
            </select>
          </div>
        </div>

        <div class="mt-4 grid gap-3">
          <div>
            <label class="text-xs text-slate-600">(1) 광고할 상품/서비스 한 줄</label>
            <input id="productService" class="mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm" placeholder="예: 인천 서구 24시간 카페 ‘하이테이블’" />
          </div>

          <div>
            <label class="text-xs text-slate-600">(2) 타겟</label>
            <input id="target" class="mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm" placeholder="예: 늦게까지 공부/작업하는 20~40대" />
          </div>

          <div>
            <label class="text-xs text-slate-600">(2) 오퍼(혜택/조건)</label>
            <input id="offer" class="mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm" placeholder="예: 첫 방문 아메리카노 1+1 (기간/조건)" />
          </div>
        </div>

        <!-- Forbidden expression checklist -->
        <div class="mt-5">
          <div class="flex items-center justify-between">
            <div class="text-sm font-semibold">금지/주의 표현 체크(선택)</div>
            <div class="text-xs text-slate-500">체크하면 더 빡세게 잡습니다</div>
          </div>

          <div class="mt-3 grid sm:grid-cols-2 gap-2 text-sm">
            <label class="flex items-center gap-2 p-2 rounded-xl bg-slate-50 border border-slate-200">
              <input type="checkbox" class="h-4 w-4" id="chkGuarantee"/>
              <span>보장/확정/100%/무조건</span>
            </label>
            <label class="flex items-center gap-2 p-2 rounded-xl bg-slate-50 border border-slate-200">
              <input type="checkbox" class="h-4 w-4" id="chkNoSideEffects"/>
              <span>부작용 없음/전혀 없음</span>
            </label>
            <label class="flex items-center gap-2 p-2 rounded-xl bg-slate-50 border border-slate-200">
              <input type="checkbox" class="h-4 w-4" id="chkCure"/>
              <span>완치/즉시 개선</span>
            </label>
            <label class="flex items-center gap-2 p-2 rounded-xl bg-slate-50 border border-slate-200">
              <input type="checkbox" class="h-4 w-4" id="chkFinanceGuarantee"/>
              <span>원금보장/수익확정</span>
            </label>
          </div>
        </div>

        <!-- Mode-specific input -->
        <div id="checkModeBox" class="mt-5">
          <label class="text-xs text-slate-600">(3) 원문(광고 문구/랜딩 문구) 붙여넣기</label>
          <textarea
            id="originalText"
            class="mt-2 w-full h-44 px-4 py-3 rounded-2xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-slate-900/10"
            placeholder="예) 한 달에 -7kg! 무조건 빠집니다. 100% 효과 보장. 지금 문의하세요!"
          ></textarea>
        </div>

        <div id="rejectModeBox" class="mt-5 hidden">
          <label class="text-xs text-slate-600">반려된 원문(광고 문구)</label>
          <textarea
            id="rejectedOriginalText"
            class="mt-2 w-full h-28 px-4 py-3 rounded-2xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-slate-900/10"
            placeholder="반려된 광고 문구 원문을 붙여넣어주세요"
          ></textarea>

          <label class="mt-4 text-xs text-slate-600">메타 반려 사유 메시지(그대로)</label>
          <textarea
            id="rejectionMessage"
            class="mt-2 w-full h-28 px-4 py-3 rounded-2xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-slate-900/10"
            placeholder="예) This ad can't run because it violates our policy on..."
          ></textarea>
        </div>

        <!-- Sample buttons -->
        <div class="mt-3 flex flex-wrap gap-2">
          <button class="sampleBtn text-xs px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200" data-sample="local">예시(로컬)</button>
          <button class="sampleBtn text-xs px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200" data-sample="diet">예시(다이어트)</button>
          <button class="sampleBtn text-xs px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200" data-sample="beauty">예시(화장품)</button>
          <button class="sampleBtn text-xs px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200" data-sample="finance">예시(수익)</button>
          <button class="sampleBtn text-xs px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200" data-sample="ai">예시(AI)</button>
        </div>

        <!-- Buttons -->
        <div class="mt-5 flex flex-col sm:flex-row gap-2">
          <button id="runBtn" class="px-4 py-3 rounded-2xl bg-slate-900 text-white font-semibold hover:bg-slate-800">
            실행하기
          </button>
          <button id="safeBtn" class="px-4 py-3 rounded-2xl bg-white border border-slate-200 font-semibold hover:bg-slate-50">
            안전 버전으로 변환
          </button>
          <button id="clearBtn" class="px-4 py-3 rounded-2xl bg-white border border-slate-200 font-semibold hover:bg-slate-50">
            지우기
          </button>
        </div>

        <p class="mt-4 text-xs text-slate-500 leading-relaxed">
          ※ 본 결과는 법률 자문이 아닌 일반적인 안전 가이드입니다. 최종 게시 책임은 사용자에게 있습니다.
        </p>
      </div>

      <!-- Output -->
      <div class="rounded-3xl bg-white border border-slate-200 shadow-sm p-5">
        <div class="flex items-center justify-between gap-3">
          <h3 class="font-semibold">② 결과</h3>
          <div class="flex gap-2">
            <button id="copyAllBtn" class="text-sm px-3 py-2 rounded-xl bg-slate-900 text-white hover:bg-slate-800">
              결과 전체 복사
            </button>
          </div>
        </div>

        <div id="emptyState" class="mt-6 rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-slate-600">
          <div class="font-semibold">아직 결과가 없습니다</div>
          <div class="mt-1 text-sm">왼쪽에 입력 후 <span class="font-semibold">실행하기</span>를 눌러주세요.</div>
        </div>

        <div id="resultWrap" class="mt-6 hidden space-y-4">
          <!-- Score -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-xs text-slate-500">안전 점수</div>
                <div class="mt-1 text-3xl font-bold"><span id="scoreText">0</span><span class="text-sm text-slate-500">/100</span></div>
              </div>
              <div class="w-2/3">
                <div class="h-2 rounded-full bg-slate-100 overflow-hidden">
                  <div id="scoreBar" class="h-2 rounded-full bg-emerald-500" style="width:0%"></div>
                </div>
                <div id="scoreHint" class="mt-2 text-xs text-slate-500">
                  단정/보장 표현을 줄이면 점수가 올라갑니다.
                </div>
              </div>
            </div>

            <div class="mt-4">
              <div class="text-xs text-slate-500">한 줄 이유</div>
              <div id="scoreReason" class="mt-2 text-sm text-slate-800"></div>
            </div>

            <div class="mt-4">
              <div class="text-xs text-slate-500">요약</div>
              <ul id="summaryList" class="mt-2 space-y-1 text-sm text-slate-700 list-disc pl-5"></ul>
            </div>
          </div>

          <!-- Risk items -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div class="font-semibold">왜 위험한지 (표현 기준으로)</div>
              <div class="text-xs text-slate-500">문구 단위로 콕 찝어드립니다</div>
            </div>
            <div id="riskList" class="mt-3 space-y-3"></div>
          </div>

          <!-- Before/After -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div class="font-semibold">교정 전/후 한 화면</div>
              <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="afterSafe">교정 후 복사</button>
            </div>

            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="text-xs text-slate-500">Before</div>
                <div id="beforeText" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>
              <div class="rounded-xl bg-emerald-50 border border-emerald-200 p-3">
                <div class="text-xs text-emerald-700">After (안전 버전)</div>
                <div id="afterSafe" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>
            </div>
          </div>

          <!-- Variants -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div class="font-semibold">통과 확률 올리는 수정본 3개</div>
              <div class="text-xs text-slate-500">보수/표준/공격</div>
            </div>

            <div class="mt-3 grid gap-3">
              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">보수(가장 안전)</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="vConservative">복사</button>
                </div>
                <div id="vConservative" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>

              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">표준(밸런스)</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="vStandard">복사</button>
                </div>
                <div id="vStandard" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>

              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">공격(성과 지향)</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="vAggressive">복사</button>
                </div>
                <div id="vAggressive" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>
            </div>
          </div>

          <!-- Disclosure -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div class="font-semibold">표기문구(디스클로저) 자동 추천</div>
              <div class="text-xs text-slate-500">어디에 넣는지까지</div>
            </div>

            <div class="mt-3 grid gap-3">
              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">짧게</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="labelShort">복사</button>
                </div>
                <div id="labelShort" class="mt-2 mono text-sm whitespace-pre-wrap"></div>
              </div>

              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">길게</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="labelLong">복사</button>
                </div>
                <div id="labelLong" class="mt-2 mono text-sm whitespace-pre-wrap"></div>
              </div>

              <div class="rounded-xl bg-white border border-slate-200 p-3">
                <div class="text-xs text-slate-500">권장 위치</div>
                <ul id="placementList" class="mt-2 text-sm text-slate-700 list-disc pl-5"></ul>
              </div>
            </div>
          </div>

          <!-- Channel pack -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div class="font-semibold">채널별 복붙 세트</div>
              <div class="text-xs text-slate-500">“바로 써서 돈 아끼는” 구간</div>
            </div>

            <div class="mt-3 grid gap-3">
              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">메타 광고 · Primary Text</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="metaPrimary">복사</button>
                </div>
                <div id="metaPrimary" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>

              <div class="grid md:grid-cols-2 gap-3">
                <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                  <div class="flex items-center justify-between">
                    <div class="text-xs text-slate-500">메타 광고 · Headline</div>
                    <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="metaHeadline">복사</button>
                  </div>
                  <div id="metaHeadline" class="mt-2 text-sm whitespace-pre-wrap"></div>
                </div>

                <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                  <div class="flex items-center justify-between">
                    <div class="text-xs text-slate-500">메타 광고 · Description</div>
                    <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="metaDesc">복사</button>
                  </div>
                  <div id="metaDesc" class="mt-2 text-sm whitespace-pre-wrap"></div>
                </div>
              </div>

              <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                <div class="flex items-center justify-between">
                  <div class="text-xs text-slate-500">랜딩 첫 문장</div>
                  <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="landingFirst">복사</button>
                </div>
                <div id="landingFirst" class="mt-2 text-sm whitespace-pre-wrap"></div>
              </div>

              <div class="grid md:grid-cols-2 gap-3">
                <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                  <div class="flex items-center justify-between">
                    <div class="text-xs text-slate-500">DM 첫 문장</div>
                    <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="dmOpening">복사</button>
                  </div>
                  <div id="dmOpening" class="mt-2 text-sm whitespace-pre-wrap"></div>
                </div>

                <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                  <div class="flex items-center justify-between">
                    <div class="text-xs text-slate-500">카카오/문자</div>
                    <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="kakaoMsg">복사</button>
                  </div>
                  <div id="kakaoMsg" class="mt-2 text-sm whitespace-pre-wrap"></div>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-3">
                <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                  <div class="flex items-center justify-between">
                    <div class="text-xs text-slate-500">인스타 캡션</div>
                    <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="igCaption">복사</button>
                  </div>
                  <div id="igCaption" class="mt-2 text-sm whitespace-pre-wrap"></div>
                </div>

                <div class="rounded-xl bg-slate-50 border border-slate-200 p-3">
                  <div class="flex items-center justify-between">
                    <div class="text-xs text-slate-500">블로그 인트로</div>
                    <button class="copyBtn text-xs px-2 py-1 rounded-lg bg-white border border-slate-200 hover:bg-slate-50" data-copy="blogIntro">복사</button>
                  </div>
                  <div id="blogIntro" class="mt-2 text-sm whitespace-pre-wrap"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Rejection helper (only relevant in rejection mode) -->
          <div id="rejectionHelperBox" class="rounded-2xl border border-slate-200 p-4 hidden">
            <div class="flex items-center justify-between">
              <div class="font-semibold">반려 사유 번역기 결과</div>
              <div class="text-xs text-slate-500">해석 + 추정 트리거 + 수정 액션</div>
            </div>

            <div class="mt-3 rounded-xl bg-slate-50 border border-slate-200 p-3">
              <div class="text-xs text-slate-500">한국어 해석(요약)</div>
              <div id="rejSummary" class="mt-2 text-sm whitespace-pre-wrap"></div>
            </div>

            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <div class="rounded-xl bg-white border border-slate-200 p-3">
                <div class="text-xs text-slate-500">추정 트리거(가능성)</div>
                <ul id="rejTriggers" class="mt-2 text-sm text-slate-700 list-disc pl-5"></ul>
              </div>
              <div class="rounded-xl bg-white border border-slate-200 p-3">
                <div class="text-xs text-slate-500">수정 액션(바로 할 것)</div>
                <ul id="rejActions" class="mt-2 text-sm text-slate-700 list-disc pl-5"></ul>
              </div>
            </div>

            <div class="mt-3 text-xs text-slate-500">
              ※ 이 도구는 반려 메시지를 “실무적으로 이해하기 쉽게” 풀어주는 목적입니다.
            </div>
          </div>

          <!-- Checklist -->
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="flex items-center justify-between">
              <div class="font-semibold">업로드 전 10초 체크리스트</div>
              <div class="text-xs text-slate-500">실무자용</div>
            </div>
            <ul id="checkList" class="mt-3 space-y-2 text-sm text-slate-700"></ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section id="how" class="bg-white border-t border-slate-200">
    <div class="max-w-6xl mx-auto px-4 py-14">
      <h2 class="text-2xl md:text-3xl font-bold">동작 방식</h2>
      <p class="mt-2 text-slate-600">
        지금 데모는 규칙 기반으로 “리스크 표현”을 잡습니다. PRO(유료)에서는 AI + 업종 템플릿으로 정확도가 올라가게 설계하시면 됩니다.
      </p>

      <div class="mt-8 grid md:grid-cols-3 gap-5">
        <div class="rounded-3xl border border-slate-200 p-6">
          <div class="text-sm text-slate-500">STEP 1</div>
          <div class="mt-2 font-semibold">상품/타겟/오퍼 입력</div>
          <div class="mt-2 text-sm text-slate-600">한 줄로 정리하면, 결과물(카피 세트)이 훨씬 좋아집니다.</div>
        </div>

        <div class="rounded-3xl border border-slate-200 p-6">
          <div class="text-sm text-slate-500">STEP 2</div>
          <div class="mt-2 font-semibold">위험표현 탐지 + 이유</div>
          <div class="mt-2 text-sm text-slate-600">“왜 위험한지”를 보여주면 신뢰가 올라갑니다.</div>
        </div>

        <div class="rounded-3xl border border-slate-200 p-6">
          <div class="text-sm text-slate-500">STEP 3</div>
          <div class="mt-2 font-semibold">교정 전/후 + 복붙 세트</div>
          <div class="mt-2 text-sm text-slate-600">메타 광고 필드/랜딩/DM까지 바로 쓰게 만드는 순간 “와”가 나옵니다.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" class="max-w-6xl mx-auto px-4 py-14">
    <div class="flex items-end justify-between gap-4">
      <div>
        <h2 class="text-2xl md:text-3xl font-bold">사업화(유료) 모델</h2>
        <p class="mt-2 text-slate-600">
          데모는 “납득”용. 수익은 PRO(저장/템플릿/팀승인/근거 링크)에서 만드시면 됩니다.
        </p>
      </div>
    </div>

    <div class="mt-8 grid md:grid-cols-3 gap-5">
      <div class="rounded-3xl border border-slate-200 p-6 bg-white">
        <div class="text-sm text-slate-500">Free</div>
        <div class="mt-1 text-2xl font-bold">₩0</div>
        <ul class="mt-4 space-y-2 text-sm text-slate-700">
          <li>• 규칙 기반 점검</li>
          <li>• 복붙 세트 생성</li>
          <li>• 하루 제한(권장)</li>
        </ul>
        <a href="#demo" class="mt-6 inline-flex w-full justify-center px-4 py-3 rounded-2xl bg-slate-900 text-white font-semibold hover:bg-slate-800">
          무료로 써보기
        </a>
      </div>

      <div class="rounded-3xl border border-slate-900 p-6 shadow-sm bg-white">
        <div class="text-sm text-slate-500">Starter</div>
        <div class="mt-1 text-2xl font-bold">₩9,900<span class="text-sm text-slate-500">/월</span></div>
        <ul class="mt-4 space-y-2 text-sm text-slate-700">
          <li>• AI 교정(문장 퀄리티)</li>
          <li>• 저장/히스토리</li>
          <li>• 업종 템플릿</li>
        </ul>
        <a id="starterWaitlist" href="#" class="mt-6 inline-flex w-full justify-center px-4 py-3 rounded-2xl bg-slate-900 text-white font-semibold hover:bg-slate-800">
          대기명단 신청
        </a>
      </div>

      <div class="rounded-3xl border border-slate-200 p-6 bg-white">
        <div class="text-sm text-slate-500">Pro</div>
        <div class="mt-1 text-2xl font-bold">₩29,000<span class="text-sm text-slate-500">/월</span></div>
        <ul class="mt-4 space-y-2 text-sm text-slate-700">
          <li>• 팀 공유/승인 워크플로우</li>
          <li>• 근거/가이드 링크</li>
          <li>• 대행사/셀러용 패키지</li>
        </ul>
        <a id="proWaitlist" href="#" class="mt-6 inline-flex w-full justify-center px-4 py-3 rounded-2xl bg-white border border-slate-200 font-semibold hover:bg-slate-50">
          PRO 먼저 열기
        </a>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="bg-white border-t border-slate-200">
    <div class="max-w-6xl mx-auto px-4 py-14">
      <h2 class="text-2xl md:text-3xl font-bold">FAQ</h2>

      <div class="mt-6 grid md:grid-cols-2 gap-4">
        <div class="rounded-3xl bg-white border border-slate-200 p-6">
          <div class="font-semibold">메타가 심사해주는데 왜 필요해요?</div>
          <p class="mt-2 text-sm text-slate-600">
            심사는 “합/불” 판정이고, 이 도구는 “통과 확률을 올리는 문구/구성”을 미리 만들어 시간/비용을 줄이는 데 집중합니다.
          </p>
        </div>

        <div class="rounded-3xl bg-white border border-slate-200 p-6">
          <div class="font-semibold">법적으로 완벽하게 보장하나요?</div>
          <p class="mt-2 text-sm text-slate-600">
            아니요. 법률 자문이 아니라 일반적인 안전 가이드이며, 최종 게시 책임은 사용자에게 있습니다.
          </p>
        </div>

        <div class="rounded-3xl bg-white border border-slate-200 p-6">
          <div class="font-semibold">왜 “복붙 세트”가 중요해요?</div>
          <p class="mt-2 text-sm text-slate-600">
            실무는 결국 “필드에 넣는 문장”이 있어야 끝납니다. Primary/Headline/Desc/랜딩/DM까지 한 번에 나오면 ‘와’가 나옵니다.
          </p>
        </div>

        <div class="rounded-3xl bg-white border border-slate-200 p-6">
          <div class="font-semibold">PRO는 뭐가 달라져요?</div>
          <p class="mt-2 text-sm text-slate-600">
            AI 교정 + 업종 템플릿 + 히스토리 저장 + 팀 승인 + 근거 링크를 붙이면 “월구독”이 됩니다.
          </p>
        </div>
      </div>
    </div>
  </section>

  <footer class="border-t border-slate-200 bg-white">
    <div class="max-w-6xl mx-auto px-4 py-10 text-sm text-slate-600">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
        <div>
          <div class="font-semibold text-slate-900">AD-Guard AI</div>
          <div class="mt-1 text-xs">※ 본 결과는 법률 자문이 아닌 일반적인 안전 가이드입니다.</div>
        </div>
        <div class="text-xs text-slate-500">© <span id="year"></span> AD-Guard AI</div>
      </div>
    </div>
  </footer>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-4 left-1/2 -translate-x-1/2 hidden z-50">
    <div class="px-4 py-3 rounded-2xl bg-slate-900 text-white text-sm shadow-lg">
      <span id="toastMsg">복사했습니다</span>
    </div>
  </div>

  <script>
    /*****************************************************************
     * ✅ 여기만 바꾸시면 됩니다 (필수 1개)
     *****************************************************************/
    const PRO_CONTACT_EMAIL = "hello@example.com"; // TODO: 본인 이메일로 바꾸세요

    /*****************************************************************
     * Samples
     *****************************************************************/
    const SAMPLES = {
      local: {
        ps: "인천 서구 24시간 카페(조용한 작업/공부 공간)",
        target: "늦게까지 공부/작업하는 20~40대",
        offer: "첫 방문 아메리카노 1+1(기간/조건 적용)",
        cat: "local",
        text: "오늘부터 무조건 집중력 올라갑니다! 최고의 작업 카페! 전원 만족! 지금 오시면 100% 혜택 드려요!"
      },
      diet: {
        ps: "다이어트 루틴/코칭 프로그램",
        target: "체중 관리가 필요한 30~50대",
        offer: "무료 상담 + 1주 식단 가이드 제공",
        cat: "diet",
        text: "한 달에 -7kg! 무조건 빠집니다. 부작용 없고 100% 효과 보장. 지금 문의하세요!"
      },
      beauty: {
        ps: "피부 진정/보습 크림",
        target: "민감 피부/건조함이 고민인 분",
        offer: "첫 구매 20% 할인(기간 한정)",
        cat: "beauty",
        text: "이 크림은 주름이 확실히 사라져요. 3일만에 피부가 완전 달라집니다. 전원 만족!"
      },
      finance: {
        ps: "부업/투자 정보 강의",
        target: "부업을 찾는 직장인",
        offer: "첫 강의 1만원 체험",
        cat: "finance",
        text: "원금보장! 매달 30% 수익 확정. 누구나 쉽게 돈 벌 수 있습니다. 지금 바로 신청하세요."
      },
      ai: {
        ps: "광고 문구 자동 생성 AI",
        target: "마케팅 담당자/소상공인",
        offer: "첫 20회 무료",
        cat: "ai",
        text: "우리 AI는 100% 정확합니다. 단 10초 만에 매출이 확 올라갑니다. 무조건 성과 보장!"
      }
    };

    /*****************************************************************
     * Risk rules (간단 규칙 기반)
     *****************************************************************/
    const RULES_COMMON = [
      {
        id: "guarantee",
        re: /100%|100퍼|100프로|무조건|확정|보장|즉시|단기간|최고|전원\s*만족/gi,
        severity: 4,
        type: "단정/보장",
        why: "단정/보장/과장처럼 해석될 수 있어 심사 리스크가 올라갑니다.",
        alternatives: [
          "상황에 따라 도움이 될 수 있습니다",
          "개인차가 있을 수 있습니다",
          "경험/후기를 기반으로 소개드립니다"
        ]
      },
      {
        id: "no_side_effects",
        re: /부작용\s*없|부작용\s*전혀\s*없|부작용\s*제로/gi,
        severity: 5,
        type: "부작용/안전 단정",
        why: "‘부작용 없음’은 특히 건강/미용에서 민감한 단정 표현입니다.",
        alternatives: [
          "개인에 따라 차이가 있을 수 있습니다",
          "사용 전 성분/주의사항을 확인해주세요",
          "민감하신 분은 패치 테스트를 권장드립니다"
        ]
      },
      {
        id: "numbers",
        re: /하루\s*\d+\s*(kg|키로)|\d+\s*(kg|키로)\s*(감량|빠짐)|\d+\s*일\s*만에|\d+\s*주\s*만에|\d+\s*개월\s*만에/gi,
        severity: 3,
        type: "수치/기간 확정",
        why: "기간/수치를 확정적으로 제시하면 오해 소지가 커집니다.",
        alternatives: [
          "목표/상황에 따라 달라질 수 있습니다",
          "개인별 진행 속도가 다를 수 있습니다",
          "상담 후 맞춤 안내드립니다"
        ]
      },
      {
        id: "cure",
        re: /완치|치료|약효|통증\s*완전|기미\s*완치|주름\s*사라짐/gi,
        severity: 5,
        type: "기타",
        why: "치료/완치 등 의학적 확정 뉘앙스는 리스크가 큽니다.",
        alternatives: [
          "증상/컨디션 개선에 도움될 수 있습니다",
          "개인차가 있을 수 있습니다",
          "필요 시 전문가와 상담하세요"
        ]
      }
    ];

    const RULES_DIET = [
      {
        id: "diet_claim",
        re: /요요\s*절대\s*없|살\s*확\s*빠짐|체지방\s*즉시/gi,
        severity: 4,
        type: "과장",
        why: "다이어트 결과를 단정하면 심사/클레임 리스크가 커집니다.",
        alternatives: [
          "식단/운동과 함께하면 도움이 될 수 있습니다",
          "개인 목표에 맞춰 진행합니다",
          "생활 습관 기반으로 안내드립니다"
        ]
      }
    ];

    const RULES_BEAUTY = [
      {
        id: "beauty_claim",
        re: /미백\s*즉시|기미\s*삭제|주름\s*완전/gi,
        severity: 4,
        type: "과장",
        why: "화장품 효능을 확정적으로 말하면 오해 소지가 커집니다.",
        alternatives: [
          "피부 컨디션 개선에 도움될 수 있습니다",
          "피부 타입에 따라 차이가 있을 수 있습니다",
          "꾸준한 관리가 중요합니다"
        ]
      }
    ];

    const RULES_FINANCE = [
      {
        id: "finance_guarantee",
        re: /원금\s*보장|수익\s*보장|수익\s*확정|손실\s*없/gi,
        severity: 5,
        type: "금융/수익 보장",
        why: "수익/원금 보장 표현은 매우 민감한 리스크 요소입니다.",
        alternatives: [
          "손실 가능성이 있으며, 최종 판단은 본인에게 있습니다",
          "과거 사례는 참고용입니다",
          "위험 고지 문구를 포함하세요"
        ]
      },
      {
        id: "finance_percent",
        re: /\d+\s*%(\s*수익)?\s*(확정|보장|매달|매월)/gi,
        severity: 4,
        type: "금융/수익 보장",
        why: "수익률을 확정적으로 제시하면 리스크가 급격히 올라갑니다.",
        alternatives: [
          "예시는 참고용이며 결과는 달라질 수 있습니다",
          "손실 가능성을 함께 고지하세요",
          "수익률 확정 표현은 피하세요"
        ]
      }
    ];

    const RULES_AI = [
      {
        id: "ai_100",
        re: /100%\s*(정확|정확도)|완벽한\s*정확/gi,
        severity: 3,
        type: "단정/보장",
        why: "AI 성능을 100%로 단정하면 분쟁/신뢰 리스크가 생깁니다.",
        alternatives: [
          "환경/데이터에 따라 결과가 달라질 수 있습니다",
          "가능한 범위에서 도움을 드립니다",
          "최종 검토는 사람이 하는 것을 권장드립니다"
        ]
      }
    ];

    const CHECKLIST_BASE = [
      "표기문구(유료광고/협찬/제휴/자사홍보)를 눈에 잘 띄는 위치(첫 줄/첫 문단)에 넣었나요?",
      "‘무조건/확정/보장/100%’ 같은 단정 표현을 줄였나요?",
      "수치/기간/효과는 개인차가 있음을 밝혔나요?",
      "후기/사례는 ‘개인 경험’임을 명확히 했나요?",
      "가격/조건/기간/주의사항 등 핵심 정보를 숨기지 않았나요?"
    ];

    /*****************************************************************
     * DOM helpers
     *****************************************************************/
    const el = (id) => document.getElementById(id);
    const toast = el("toast");
    const toastMsg = el("toastMsg");

    function showToast(msg) {
      toastMsg.textContent = msg || "완료!";
      toast.classList.remove("hidden");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => toast.classList.add("hidden"), 1200);
    }

    async function copyToClipboard(text) {
      try {
        await navigator.clipboard.writeText(text);
        showToast("복사했습니다 ✅");
      } catch (e) {
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        showToast("복사했습니다 ✅");
      }
    }

    /*****************************************************************
     * Disclosure (표기문구)
     *****************************************************************/
    function getRelationLabel(rel) {
      switch (rel) {
        case "유료광고":
          return {
            short: "[유료광고] 본 콘텐츠는 광고를 포함합니다.",
            long: "[유료광고] 본 콘텐츠는 광고를 포함합니다. (경제적 이해관계가 있는 경우, 소비자가 쉽게 인지할 수 있도록 명확히 표시하는 것이 중요합니다.)",
            tag: "#유료광고"
          };
        case "협찬":
          return {
            short: "[협찬] 제품/서비스를 제공받아 작성했습니다.",
            long: "[협찬] 제품/서비스를 제공받아 작성했습니다. (경제적 이해관계가 있는 경우, 소비자가 쉽게 인지할 수 있도록 명확히 표시하는 것이 중요합니다.)",
            tag: "#협찬"
          };
        case "제휴":
          return {
            short: "[제휴] 구매 시 일부 수수료를 받을 수 있습니다.",
            long: "[제휴] 구매 시 일부 수수료를 받을 수 있습니다. (경제적 이해관계가 있는 경우, 소비자가 쉽게 인지할 수 있도록 명확히 표시하는 것이 중요합니다.)",
            tag: "#제휴"
          };
        case "자사홍보":
          return {
            short: "[자사홍보] 자사 제품/서비스 안내입니다.",
            long: "[자사홍보] 자사 제품/서비스 안내입니다. (소비자가 쉽게 인지할 수 있도록 표시하는 것이 좋습니다.)",
            tag: "#자사홍보"
          };
        default:
          return {
            short: "[유료광고] 본 콘텐츠는 광고를 포함합니다.",
            long: "[유료광고] 본 콘텐츠는 광고를 포함합니다. (경제적 이해관계가 있는 경우, 소비자가 쉽게 인지할 수 있도록 명확히 표시하는 것이 중요합니다.)",
            tag: "#유료광고"
          };
      }
    }

    function getPlacementGuidance() {
      return [
        "인스타: 캡션 첫 줄(또는 첫 2줄 이내)에 #유료광고/#협찬/#제휴 등 라벨을 넣으세요.",
        "메타 광고: Primary Text 첫 문장 또는 랜딩 상단에 라벨을 보이게 두세요.",
        "블로그: 첫 문단 시작 또는 본문 상단(스크롤 없이 보이는 위치)에 넣으세요.",
        "카카오/문자: 메시지 첫 줄에 넣는 것이 안전합니다."
      ];
    }

    /*****************************************************************
     * Rules selection
     *****************************************************************/
    function collectRules(category) {
      const rules = [...RULES_COMMON];
      if (category === "diet") rules.push(...RULES_DIET);
      if (category === "beauty") rules.push(...RULES_BEAUTY);
      if (category === "finance") rules.push(...RULES_FINANCE);
      if (category === "ai") rules.push(...RULES_AI);
      return rules;
    }

    function unique(arr) {
      return Array.from(new Set(arr));
    }

    function matchPhrases(text, re) {
      const m = text.match(re);
      if (!m) return [];
      return unique(m.map(x => x.trim())).slice(0, 7);
    }

    /*****************************************************************
     * Analyzer
     *****************************************************************/
    function analyzeText(text, category, strictFlags) {
      const rules = collectRules(category);
      const hits = [];

      for (const rule of rules) {
        const phrases = matchPhrases(text, rule.re);
        if (phrases.length) {
          let severity = rule.severity;

          // strict flags boost certain categories
          if (strictFlags.guarantee && rule.id === "guarantee") severity = Math.min(5, severity + 1);
          if (strictFlags.noSideEffects && rule.id === "no_side_effects") severity = 5;
          if (strictFlags.cure && rule.id === "cure") severity = 5;
          if (strictFlags.financeGuarantee && (rule.id === "finance_guarantee" || rule.id === "finance_percent")) severity = 5;

          hits.push({
            phraseList: phrases,
            riskType: rule.type,
            why: rule.why,
            severity,
            alternatives: rule.alternatives
          });
        }
      }

      // score calc
      let score = 100;
      let penalty = 0;
      hits.forEach(h => {
        const countFactor = Math.min(2, h.phraseList.length); // cap
        penalty += (h.severity * 6) * countFactor;
      });

      // strict additional penalty (if checked but not present, small; if present already, handled)
      const strictCount = Object.values(strictFlags).filter(Boolean).length;
      penalty += strictCount * 2;

      score = Math.max(10, Math.round(score - penalty));

      // score reason
      let reason = "전반적으로 무난합니다.";
      if (score < 60) reason = "단정/보장/수치 강조가 많아 반려 가능성이 높습니다.";
      else if (score < 80) reason = "핵심 리스크 표현 몇 개만 완화하면 통과 확률이 올라갑니다.";
      else reason = "큰 리스크는 적습니다. 표현을 조금만 더 부드럽게 하면 더 안전합니다.";

      // summary bullets
      const bullets = [];
      if (score >= 85) bullets.push("좋습니다. 미세 조정만 하면 됩니다.");
      else if (score >= 60) bullets.push("몇 개만 바꾸면 ‘게시 OK’ 수준까지 빠르게 올라갑니다.");
      else bullets.push("안전 버전(교정 후)으로 바꾼 뒤 집행을 추천드립니다.");

      if (category === "finance") bullets.push("수익/원금 ‘보장/확정’ 표현은 피하고 손실 가능성 안내를 포함하세요.");
      if (category === "diet" || category === "beauty") bullets.push("효과 단정(부작용 없음/완치/즉시)은 완화하는 것이 안전합니다.");

      bullets.push("표기문구는 첫 줄/첫 문단처럼 ‘바로 보이는 위치’에 넣으세요.");

      return { score, reason, bullets, hits };
    }

    /*****************************************************************
     * Rewriter (안전 버전 + 3 variants)
     *****************************************************************/
    function soften(text, category) {
      let t = text;

      // common soften
      t = t.replace(/무조건/gi, "상황에 따라");
      t = t.replace(/확정/gi, "기대할 수");
      t = t.replace(/보장/gi, "도움이 될 수");
      t = t.replace(/100%/gi, "가능한 범위에서");
      t = t.replace(/전원\s*만족/gi, "개인차가 있을 수 있음");
      t = t.replace(/최고/gi, "선호도가 높은");
      t = t.replace(/즉시/gi, "빠르게");

      // sensitive
      t = t.replace(/부작용\s*없(음)?/gi, "개인에 따라 차이가 있을 수 있음");
      t = t.replace(/완치/gi, "증상 완화에 도움");

      // finance: add risk notice if not present
      if (category === "finance" && !/손실|원금\s*손실|투자\s*위험|리스크/gi.test(t)) {
        t += "\n\n※ 손실 가능성이 있으며, 최종 판단과 책임은 본인에게 있습니다.";
      }

      // add gentle disclaimer if not present
      if (!/개인차|도움|참고/gi.test(t)) {
        t += "\n\n※ 효과/결과는 개인차가 있을 수 있으며, 본 내용은 참고용입니다.";
      }

      return t.trim();
    }

    function buildVariants(ps, target, offer, afterSafe) {
      const basePs = ps ? `${ps}` : "상품/서비스";
      const baseOffer = offer ? ` (${offer})` : "";

      const conservative =
`[안내] ${basePs} 소개드립니다.${baseOffer}
- 상황/개인차에 따라 결과는 달라질 수 있습니다.
- 자세한 내용은 상담/문의로 확인해주세요.

${afterSafe}`;

      const standard =
`${basePs}${baseOffer}
바쁘신 분들도 부담 없이 시작할 수 있게 준비했습니다.
${target ? `추천 대상: ${target}` : ""}

${afterSafe}`;

      const aggressive =
`${basePs}${baseOffer}
지금 필요한 건 “지속 가능한 방식”입니다.
${target ? `이런 분들께 특히 추천: ${target}` : ""}

${afterSafe}`;

      return { conservative: conservative.trim(), standard: standard.trim(), aggressive: aggressive.trim() };
    }

    /*****************************************************************
     * Channel pack generator
     *****************************************************************/
    function clamp(str, n) {
      if (!str) return "";
      const s = str.replace(/\s+/g, " ").trim();
      return s.length <= n ? s : s.slice(0, n - 1) + "…";
    }

    function buildChannelPack(relTag, labelShort, ps, target, offer, baseBody) {
      const intro = ps ? `${ps}` : "오늘의 추천";
      const offerTxt = offer ? ` · ${offer}` : "";
      const targetTxt = target ? `\n(추천 대상: ${target})` : "";

      const metaPrimary = `${labelShort}\n${intro}${offerTxt}\n\n${baseBody}${targetTxt}`.trim();
      const metaHeadline = clamp(`${ps || "지금 필요한 선택"}${offer ? " · " + offer : ""}`, 40);
      const metaDesc = clamp(`상황/개인차가 있을 수 있어요 · 자세히 보기`, 30);

      const landingFirst = `${intro}${offerTxt} — 상황에 따라 도움이 될 수 있는 선택지를 안내드립니다.`;
      const dmOpening = `안녕하세요! ${ps ? ps + " 관련해서" : "관련해서"} 짧게 안내드려도 괜찮을까요?`;

      const igCaption =
`${relTag}
${intro}${offerTxt}

${baseBody}
${target ? `\n✅ 이런 분들께 추천: ${target}` : ""}`.trim();

      const blogIntro =
`${labelShort}

${intro}${offerTxt} 관련해서, 과장 없이 핵심만 정리해드립니다.
(결과/효과는 개인차가 있을 수 있습니다.)`;

      const kakaoMsg =
`${labelShort}
${intro}${offerTxt}
${clamp(baseBody.replace(/\n+/g, " "), 120)}`;

      return {
        metaPrimary,
        metaHeadline,
        metaDesc,
        landingFirst,
        dmOpening,
        igCaption,
        blogIntro,
        kakaoMsg
      };
    }

    /*****************************************************************
     * Rejection message helper (간단 번역/추정)
     *****************************************************************/
    function rejectionHelper(msg) {
      const text = (msg || "").trim();
      if (!text) {
        return {
          summary: "반려 사유 메시지가 비어 있습니다. 메타에서 표시된 문장을 그대로 붙여넣어 주세요.",
          triggers: ["반려 메시지 원문 필요"],
          actions: ["반려 메시지 원문을 붙여넣기"]
        };
      }

      const t = text.toLowerCase();

      const triggers = [];
      const actions = [];
      let summary = "반려 사유를 기반으로 추정한 요약입니다.";

      // common patterns
      if (t.includes("policy") || t.includes("violat")) {
        triggers.push("메타 광고정책 위반으로 분류됨(표현/이미지/랜딩 중 하나)");
        actions.push("문구에서 단정/보장/과장 표현을 먼저 제거");
        actions.push("랜딩(웹페이지)에도 동일한 과장/금지 표현이 있는지 확인");
      }
      if (t.includes("misleading") || t.includes("deceptive")) {
        summary = "‘오해의 소지(미스리딩)’로 반려된 가능성이 큽니다.";
        triggers.push("보장/확정/100%/즉시 등 단정 표현");
        actions.push("‘개인차/상황에 따라’로 완화 + 근거 없는 확정 표현 삭제");
      }
      if (t.includes("personal") || t.includes("attribute")) {
        summary = "개인 특성(건강/외모/상황) 직접 지칭 때문에 반려됐을 수 있습니다.";
        triggers.push("‘당신은 ~다’처럼 개인 상태를 단정/지칭하는 문장");
        actions.push("개인 지칭을 ‘일반적인 상황’으로 바꾸기");
        actions.push("‘대상군’은 일반적으로 표현(예: ‘이런 고민이 있는 분들’)로 조정");
      }
      if (t.includes("health") || t.includes("medical")) {
        summary = "건강/의학 관련 주장으로 엄격 심사를 받은 가능성이 있습니다.";
        triggers.push("치료/완치/부작용 없음/효과 보장 등 의학적 단정");
        actions.push("의학적 단정 제거 + ‘도움될 수 있음/개인차’로 변경");
      }
      if (t.includes("before") && t.includes("after")) {
        triggers.push("전/후 비교(결과 단정) 요소가 감지될 수 있음");
        actions.push("전/후 확정 표현·수치 표시를 완화하거나 삭제");
      }
      if (t.includes("landing") || t.includes("destination")) {
        triggers.push("랜딩 페이지(도착 URL) 내용 문제");
        actions.push("랜딩 최상단에 과장/금지표현/누락 정보(조건/가격/기간)가 있는지 확인");
      }

      if (!triggers.length) {
        summary = "반려 사유 문구가 애매합니다. 보통은 ‘표현 단정/오해 소지/랜딩 문제’ 중 하나입니다.";
        triggers.push("단정 표현 또는 랜딩 내용 불일치");
        actions.push("표기문구/조건/기간을 명확히 추가");
        actions.push("보장/확정/100% 제거 후 재심사");
      }

      return { summary, triggers, actions };
    }

    /*****************************************************************
     * Checklist
     *****************************************************************/
    function renderChecklist() {
      const ul = el("checkList");
      ul.innerHTML = "";
      CHECKLIST_BASE.forEach(item => {
        const li = document.createElement("li");
        li.className = "flex gap-2 items-start";
        li.innerHTML = `<span class="mt-0.5">☑️</span><span>${item}</span>`;
        ul.appendChild(li);
      });
    }

    /*****************************************************************
     * Risk list render
     *****************************************************************/
    function renderRisks(hits) {
      const container = el("riskList");
      container.innerHTML = "";

      if (!hits.length) {
        const box = document.createElement("div");
        box.className = "rounded-xl bg-emerald-50 border border-emerald-200 p-3 text-sm text-emerald-800";
        box.textContent = "좋습니다! 눈에 띄는 위험표현이 거의 없습니다. (그래도 표기문구는 유지하세요.)";
        container.appendChild(box);
        return;
      }

      // sort by severity desc
      hits.sort((a,b) => b.severity - a.severity).slice(0, 6).forEach((h, idx) => {
        const card = document.createElement("div");
        card.className = "rounded-xl border border-slate-200 p-3";

        const phrases = h.phraseList.map(p => `“${p}”`).join(", ");

        const alt = h.alternatives.map(a => `<li>${a}</li>`).join("");

        card.innerHTML = `
          <div class="flex items-center justify-between">
            <div class="text-sm font-semibold">#${idx+1} ${h.riskType}</div>
            <div class="text-xs text-slate-500">심각도 ${h.severity}/5</div>
          </div>
          <div class="mt-2 text-sm text-slate-800">${phrases}</div>
          <div class="mt-2 text-xs text-slate-500">왜 위험? ${h.why}</div>
          <div class="mt-2 text-sm bg-slate-50 border border-slate-200 rounded-lg p-2">
            <div class="text-xs text-slate-500 mb-1">대체 표현 예시</div>
            <ul class="list-disc pl-5">${alt}</ul>
          </div>
        `;
        container.appendChild(card);
      });
    }

    /*****************************************************************
     * Main run
     *****************************************************************/
    let MODE = "check"; // check | reject

    function setMode(mode) {
      MODE = mode;

      // tab styles
      if (mode === "check") {
        el("tabCheck").className = "px-4 py-2 rounded-2xl bg-slate-900 text-white text-sm font-semibold";
        el("tabReject").className = "px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-800 text-sm font-semibold hover:bg-slate-50";
        el("checkModeBox").classList.remove("hidden");
        el("rejectModeBox").classList.add("hidden");
      } else {
        el("tabReject").className = "px-4 py-2 rounded-2xl bg-slate-900 text-white text-sm font-semibold";
        el("tabCheck").className = "px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-800 text-sm font-semibold hover:bg-slate-50";
        el("checkModeBox").classList.add("hidden");
        el("rejectModeBox").classList.remove("hidden");
      }

      // reset output
      el("emptyState").classList.remove("hidden");
      el("resultWrap").classList.add("hidden");
      el("rejectionHelperBox").classList.add("hidden");
      showToast(mode === "check" ? "광고 문구 점검 모드" : "반려 사유 번역기 모드");
    }

    function getStrictFlags() {
      return {
        guarantee: el("chkGuarantee").checked,
        noSideEffects: el("chkNoSideEffects").checked,
        cure: el("chkCure").checked,
        financeGuarantee: el("chkFinanceGuarantee").checked
      };
    }

    function runCheck() {
      const rel = el("relationship").value;
      const platform = el("platform").value;
      const category = el("category").value;

      const ps = el("productService").value.trim();
      const target = el("target").value.trim();
      const offer = el("offer").value.trim();

      const original = el("originalText").value.trim();
      if (!original) {
        showToast("원문(광고 문구)을 입력해주세요");
        return;
      }

      const strictFlags = getStrictFlags();

      const analysis = analyzeText(original, category, strictFlags);
      const label = getRelationLabel(rel);
      const afterSafe = soften(original, category);
      const variants = buildVariants(ps, target, offer, afterSafe);
      const pack = buildChannelPack(label.tag, label.short, ps, target, offer, afterSafe);

      // Show output
      el("emptyState").classList.add("hidden");
      el("resultWrap").classList.remove("hidden");
      el("rejectionHelperBox").classList.add("hidden");

      // Score
      el("scoreText").textContent = analysis.score;
      el("scoreBar").style.width = Math.max(5, analysis.score) + "%";
      el("scoreHint").textContent =
        analysis.score >= 85 ? "좋습니다. 미세 조정만 하면 됩니다."
        : analysis.score >= 60 ? "몇 개만 바꾸면 통과 확률이 올라갑니다."
        : "단정/보장/수치 표현을 먼저 줄이는 것을 추천드립니다.";

      el("scoreReason").textContent = analysis.reason;

      // Summary
      const summaryList = el("summaryList");
      summaryList.innerHTML = "";
      analysis.bullets.slice(0, 4).forEach(b => {
        const li = document.createElement("li");
        li.textContent = b;
        summaryList.appendChild(li);
      });

      // Risks
      renderRisks(analysis.hits);

      // Before/After
      el("beforeText").textContent = original;
      el("afterSafe").textContent = afterSafe;

      // Variants
      el("vConservative").textContent = variants.conservative;
      el("vStandard").textContent = variants.standard;
      el("vAggressive").textContent = variants.aggressive;

      // Disclosure
      el("labelShort").textContent = label.short;
      el("labelLong").textContent = label.long;

      const pl = el("placementList");
      pl.innerHTML = "";
      getPlacementGuidance().forEach(x => {
        const li = document.createElement("li");
        li.textContent = x;
        pl.appendChild(li);
      });

      // Channel pack
      el("metaPrimary").textContent = pack.metaPrimary;
      el("metaHeadline").textContent = pack.metaHeadline;
      el("metaDesc").textContent = pack.metaDesc;
      el("landingFirst").textContent = pack.landingFirst;
      el("dmOpening").textContent = pack.dmOpening;
      el("igCaption").textContent = pack.igCaption;
      el("blogIntro").textContent = pack.blogIntro;
      el("kakaoMsg").textContent = pack.kakaoMsg;

      // Checklist
      renderChecklist();

      showToast("결과가 생성되었습니다 ✨");
    }

    function runReject() {
      const rel = el("relationship").value;
      const platform = el("platform").value;
      const category = el("category").value;

      const ps = el("productService").value.trim();
      const target = el("target").value.trim();
      const offer = el("offer").value.trim();

      const original = el("rejectedOriginalText").value.trim();
      const rejMsg = el("rejectionMessage").value.trim();

      if (!original) {
        showToast("반려된 원문을 입력해주세요");
        return;
      }

      const strictFlags = getStrictFlags();

      // analyze original as well
      const analysis = analyzeText(original, category, strictFlags);
      const label = getRelationLabel(rel);
      const helper = rejectionHelper(rejMsg);

      const afterSafe = soften(original, category);
      const variants = buildVariants(ps, target, offer, afterSafe);
      const pack = buildChannelPack(label.tag, label.short, ps, target, offer, afterSafe);

      // Show output
      el("emptyState").classList.add("hidden");
      el("resultWrap").classList.remove("hidden");
      el("rejectionHelperBox").classList.remove("hidden");

      // Score
      el("scoreText").textContent = analysis.score;
      el("scoreBar").style.width = Math.max(5, analysis.score) + "%";
      el("scoreHint").textContent =
        analysis.score >= 85 ? "좋습니다. 반려 메시지 기준으로만 미세 조정하면 됩니다."
        : analysis.score >= 60 ? "리스크 표현 몇 개만 바꾸면 재심사 통과 확률이 올라갑니다."
        : "단정/보장/수치 표현을 먼저 줄여 재심사하세요.";

      el("scoreReason").textContent = `반려 메시지 참고: ${helper.summary}`;

      // Summary
      const summaryList = el("summaryList");
      summaryList.innerHTML = "";
      analysis.bullets.slice(0, 3).forEach(b => {
        const li = document.createElement("li");
        li.textContent = b;
        summaryList.appendChild(li);
      });
      const liExtra = document.createElement("li");
      liExtra.textContent = "반려 원인을 ‘문구/랜딩/타겟팅’ 중 어디인지 분리해서 고치면 빠릅니다.";
      summaryList.appendChild(liExtra);

      // Risks
      renderRisks(analysis.hits);

      // Before/After
      el("beforeText").textContent = original;
      el("afterSafe").textContent = afterSafe;

      // Variants
      el("vConservative").textContent = variants.conservative;
      el("vStandard").textContent = variants.standard;
      el("vAggressive").textContent = variants.aggressive;

      // Disclosure
      el("labelShort").textContent = label.short;
      el("labelLong").textContent = label.long;

      const pl = el("placementList");
      pl.innerHTML = "";
      getPlacementGuidance().forEach(x => {
        const li = document.createElement("li");
        li.textContent = x;
        pl.appendChild(li);
      });

      // Channel pack
      el("metaPrimary").textContent = pack.metaPrimary;
      el("metaHeadline").textContent = pack.metaHeadline;
      el("metaDesc").textContent = pack.metaDesc;
      el("landingFirst").textContent = pack.landingFirst;
      el("dmOpening").textContent = pack.dmOpening;
      el("igCaption").textContent = pack.igCaption;
      el("blogIntro").textContent = pack.blogIntro;
      el("kakaoMsg").textContent = pack.kakaoMsg;

      // Rejection helper UI
      el("rejSummary").textContent = helper.summary;

      const rejTriggers = el("rejTriggers");
      rejTriggers.innerHTML = "";
      helper.triggers.forEach(x => {
        const li = document.createElement("li");
        li.textContent = x;
        rejTriggers.appendChild(li);
      });

      const rejActions = el("rejActions");
      rejActions.innerHTML = "";
      helper.actions.forEach(x => {
        const li = document.createElement("li");
        li.textContent = x;
        rejActions.appendChild(li);
      });

      // Checklist
      renderChecklist();

      showToast("반려 사유 분석 결과가 생성되었습니다 ✨");
    }

    function run() {
      if (MODE === "check") runCheck();
      else runReject();
    }

    /*****************************************************************
     * Safe button: replace current text with safe rewrite
     *****************************************************************/
    function safeTransform() {
      const category = el("category").value;
      if (MODE === "check") {
        const t = el("originalText").value.trim();
        if (!t) return showToast("원문을 입력해주세요");
        el("originalText").value = soften(t, category);
        el("charCount").textContent = el("originalText").value.length + "자";
        showToast("안전 버전으로 변환했습니다");
      } else {
        const t = el("rejectedOriginalText").value.trim();
        if (!t) return showToast("반려 원문을 입력해주세요");
        el("rejectedOriginalText").value = soften(t, category);
        showToast("반려 원문을 안전 버전으로 변환했습니다");
      }
    }

    /*****************************************************************
     * Clear button
     *****************************************************************/
    function clearAll() {
      el("productService").value = "";
      el("target").value = "";
      el("offer").value = "";
      el("originalText").value = "";
      el("rejectedOriginalText").value = "";
      el("rejectionMessage").value = "";
      el("charCount").textContent = "0자";

      el("emptyState").classList.remove("hidden");
      el("resultWrap").classList.add("hidden");
      el("rejectionHelperBox").classList.add("hidden");

      showToast("초기화했습니다");
    }

    /*****************************************************************
     * Copy buttons handler
     *****************************************************************/
    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".copyBtn");
      if (!btn) return;
      const id = btn.getAttribute("data-copy");
      const node = document.getElementById(id);
      if (!node) return;
      copyToClipboard(node.textContent.trim());
    });

    el("copyAllBtn").addEventListener("click", () => {
      if (el("resultWrap").classList.contains("hidden")) return showToast("먼저 실행하기를 눌러주세요");

      const bundle =
`[안전 점수]
${el("scoreText").textContent}/100
- ${el("scoreReason").textContent}

[교정 전]
${el("beforeText").textContent}

[교정 후(안전)]
${el("afterSafe").textContent}

[수정본 3개]
- 보수:
${el("vConservative").textContent}

- 표준:
${el("vStandard").textContent}

- 공격:
${el("vAggressive").textContent}

[표기문구(짧게)]
${el("labelShort").textContent}

[표기문구(길게)]
${el("labelLong").textContent}

[메타 광고 필드]
Primary Text:
${el("metaPrimary").textContent}

Headline:
${el("metaHeadline").textContent}

Description:
${el("metaDesc").textContent}

[랜딩/DM/채널]
랜딩 첫 문장:
${el("landingFirst").textContent}

DM 첫 문장:
${el("dmOpening").textContent}

인스타 캡션:
${el("igCaption").textContent}

블로그 인트로:
${el("blogIntro").textContent}

카카오/문자:
${el("kakaoMsg").textContent}
`;
      copyToClipboard(bundle.trim());
    });

    /*****************************************************************
     * Samples
     *****************************************************************/
    document.querySelectorAll(".sampleBtn").forEach(btn => {
      btn.addEventListener("click", () => {
        const key = btn.getAttribute("data-sample");
        const s = SAMPLES[key];
        if (!s) return;

        el("productService").value = s.ps;
        el("target").value = s.target;
        el("offer").value = s.offer;
        el("category").value = s.cat;

        if (MODE === "check") {
          el("originalText").value = s.text;
          el("charCount").textContent = el("originalText").value.length + "자";
        } else {
          el("rejectedOriginalText").value = s.text;
          el("rejectionMessage").value = "This ad can't run because it violates our policy on misleading claims.";
        }

        showToast("예시를 넣었습니다");
      });
    });

    /*****************************************************************
     * Tab events
     *****************************************************************/
    el("tabCheck").addEventListener("click", () => setMode("check"));
    el("tabReject").addEventListener("click", () => setMode("reject"));

    /*****************************************************************
     * Main buttons
     *****************************************************************/
    el("runBtn").addEventListener("click", run);
    el("safeBtn").addEventListener("click", safeTransform);
    el("clearBtn").addEventListener("click", clearAll);

    /*****************************************************************
     * Char count
     *****************************************************************/
    el("originalText").addEventListener("input", () => {
      el("charCount").textContent = el("originalText").value.length + "자";
    });

    /*****************************************************************
     * Waitlist mailto
     *****************************************************************/
    function mailtoLink(plan) {
      const subject = encodeURIComponent(`[AD-Guard AI] ${plan} 대기명단 신청`);
      const body = encodeURIComponent(
        `안녕하세요.\n\nAD-Guard AI ${plan} 대기명단 신청합니다.\n\n- 성함/닉네임:\n- 연락처(선택):\n- 주로 쓰는 플랫폼(메타/인스타/블로그/기타):\n- 업종:\n- 가장 필요한 기능 1가지:\n\n감사합니다.`
      );
      return `mailto:${PRO_CONTACT_EMAIL}?subject=${subject}&body=${body}`;
    }

    el("starterWaitlist").setAttribute("href", mailtoLink("Starter"));
    el("proWaitlist").setAttribute("href", mailtoLink("Pro"));
    el("year").textContent = new Date().getFullYear();

    /*****************************************************************
     * Init
     *****************************************************************/
    setMode("check");
  </script>
</body>
</html>
